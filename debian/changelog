pt-device-manager (4.1.4) buster; urgency=medium

  * Hub manager uses callback directly
  * Use environment variable to determine if battery messages are logged

 -- pi-top <deb-maintainers@pi-top.com>  Wed, 14 Apr 2021 16:54:16 +0000

pt-device-manager (4.1.3) buster; urgency=medium

  * Use 100% battery capacity if high enough (#111)
  * Add alsa-utils dependency
  * Add raspi-config dependency

 -- pi-top <deb-maintainers@pi-top.com>  Mon, 12 Apr 2021 13:21:18 +0000

pt-device-manager (4.1.2) buster; urgency=medium

  * Enable pi-top [4] UART when pi-topPULSE is connected

 -- pi-top <deb-maintainers@pi-top.com>  Wed, 17 Mar 2021 15:25:51 +0000

pt-device-manager (4.1.1) buster; urgency=medium

  * Fix peripheral auto initialisation (#102)
  * Cast address to integer to determine if valid (#103)

 -- pi-top <deb-maintainers@pi-top.com>  Tue, 16 Mar 2021 13:20:36 +0000

pt-device-manager (4.1.0) buster; urgency=medium

  * Fix boot animation for non pi-topOS systems

 -- Jorge Capona <jorge@pi-top.com>  Thu, 04 Feb 2021 11:11:10 -0300

pt-device-manager (4.0.7) buster; urgency=medium

  * Handle OLED SPI bus notification in thread
  * Move all GPIO interface operations to InterfaceManager
  * Initialize internal state before polling hub

 -- Jorge Capona <jorge@pi-top.com>  Mon, 11 Jan 2021 13:10:09 -0300

pt-device-manager (4.0.6) buster; urgency=medium

  * Perform SPI bus change in background

 -- Mike Roberts <mike@pi-top.com>  Mon, 11 Jan 2021 12:49:17 +0000

pt-device-manager (4.0.5) buster; urgency=medium

  * Increase legacy poweroff timeout to 15s
  * Add OLED SPI port to PTDM messages

 -- Jorge Capona <jorge@pi-top.com>  Thu, 07 Jan 2021 16:09:54 -0300

pt-device-manager (4.0.4) buster; urgency=medium

  * Add missing route for requesting lid open status

 -- Mike Roberts <mike@pi-top.com>  Wed, 16 Dec 2020 13:54:53 +0000

pt-device-manager (4.0.3) buster; urgency=medium

  * Breaks and Replaces pt-os-mods (<< 8) (for taking ownership of files)
  * Remove version restriction for packages to remove

 -- Mike Roberts <mike@pi-top.com>  Tue, 15 Dec 2020 01:08:22 +0000

pt-device-manager (4.0.2) buster; urgency=medium

  * Make package provide packages that are no longer desired on the system

 -- Mike Roberts <mike@pi-top.com>  Tue, 15 Dec 2020 00:34:15 +0000

pt-device-manager (4.0.1) buster; urgency=medium

  * Make all systemd services unbuffered

 -- Mike Roberts <mike@pi-top.com>  Mon, 14 Dec 2020 17:29:59 +0000

pt-device-manager (4.0.0) buster; urgency=medium

  * Apply Flake8 linting
  * Move hardware interaction library dependencies into package
  * Add bash strict mode to maintainer scripts
  * Update dpkg triggers for Python SDK

 -- Mike Roberts <mike@pi-top.com>  Fri, 11 Dec 2020 13:55:33 +0000

pt-device-manager (3.1.0) buster; urgency=medium

  * Fix poweroff on pi-topCEED

 -- Jorge Capona <jorge@pi-top.com>  Mon, 26 Oct 2020 11:53:04 -0300

pt-device-manager (3.0.0) buster; urgency=medium

  * Use compat level 12
  * Add dh-sequence-python3 build dependency
  * Standards-Version: 4.5.0
  * Migrate to native package format
  * Use multi-user.target to start services
  * Remove config.txt editing functionality, in favour of dtoverlay
  and dtparam
  * postinst: remove dtoverlay and dtparam fields from config.txt that were
  most likely being managed by pt-device-manager on pi-topOS when upgrading
  from pre-3.0.0

 -- Mike Roberts <mike@pi-top.com>  Thu, 15 Oct 2020 20:33:50 +0100

pt-device-manager (2.16.0-1) buster; urgency=medium

  * Replace poweroff-legacy with Python implementation
  * Remove wiringpi dependency
  * Clean up rules file

 -- Mike Roberts <mike@pi-top.com>  Tue, 13 Oct 2020 13:45:27 +0100

pt-device-manager (2.15.0-1) buster; urgency=medium

  * Extend pt-devices to support new connected pi-top devices
  * Move 'expanded FS' breadcrumb handling to preinst

 -- Mike Roberts <mike@pi-top.com>  Tue, 13 Oct 2020 13:32:36 +0100

pt-device-manager (2.14.3-1) buster; urgency=medium

  * Don't create 'expanded FS' breadcrumb if on chroot environment

 -- Jorge Capona <jorge@pi-top.com>  Wed, 07 Oct 2020 18:08:53 -0300

pt-device-manager (2.14.2-1) buster; urgency=medium

  * Add 'expanded FS' breadcrumb to handle upgrade situation
  where the onboarding did not create this itself

 -- Mike Roberts <mike@pi-top.com>  Fri, 02 Oct 2020 09:06:58 +0100

pt-device-manager (2.14.1-1) buster; urgency=medium

  * Handle non pi-topOS situation for startup animation

 -- Jorge Capona <jorge@pi-top.com>  Thu, 01 Oct 2020 12:13:57 -0300

pt-device-manager (2.14.0-1) buster; urgency=medium

  * Handle SPI via raspi-config
  * Send STOPPING signal to systemd before cleaning up
  * Shorten wait time for device ID to 5s (from 15s)
  * Non-zero exit code when an internal service fails
  * Zero exit code when a device ID could not be found

 -- Mike Roberts <mike@pi-top.com>  Mon, 14 Sep 2020 15:05:25 +0100

pt-device-manager (2.13.0-1) buster; urgency=medium

  * Remove apparently unnecessary baudrate reduction for pi-top 1

 -- Mike Roberts <mike@pi-top.com>  Mon, 14 Sep 2020 09:46:00 +0100

pt-device-manager (2.12.2-1) buster; urgency=medium

  * Remove extra character from startup animation script

 -- Jorge Capona <jorge@pi-top.com>  Thu, 10 Sep 2020 17:10:39 -0300

pt-device-manager (2.12.1-1) buster; urgency=medium

  * Use command runner to call pt-host

 -- Mike Roberts <mike@pi-top.com>  Thu, 10 Sep 2020 15:29:33 +0100

pt-device-manager (2.12.0-1) buster; urgency=medium

  * Improve initial logging flow
  * Improve `pt-host` robustness; use stderr for error printing

 -- Mike Roberts <mike@pi-top.com>  Thu, 10 Sep 2020 14:13:45 +0100

pt-device-manager (2.11.0-1) buster; urgency=medium

  * Loop startup animation when expanding filesystem
  * Fix OLED animation startup systemd dependency

 -- Mike Roberts <mike@pi-top.com>  Wed, 09 Sep 2020 10:18:28 +0100

pt-device-manager (2.10.0-1) buster; urgency=medium

  * Set Hifiberry explicitly in ALSA

 -- Mike Roberts <mike@pi-top.com>  Wed, 05 Aug 2020 17:15:02 +0100

pt-device-manager (2.9.0-1) buster; urgency=medium

  * Remove headphones audio configuration change on start

 -- Jorge Capona <jorge@pi-top.com>  Mon, 03 Aug 2020 19:43:31 -0400

pt-device-manager (2.8.1-1) buster; urgency=medium

  * Add dpkg triggers

 -- Jorge Capona <jorge@pi-top.com>  Thu, 16 Jul 2020 10:57:42 -0400

pt-device-manager (2.8.0-1) buster; urgency=medium

  * Add 'hard reboot' support (full power cycle)

 -- Mike Roberts <mike@pi-top.com>  Thu, 02 Jul 2020 11:18:22 +0100

pt-device-manager (2.7.1-1) buster; urgency=medium

  * Remove unused Bluetooth keyboard functions

 -- Mike Roberts <mike@pi-top.com>  Tue, 30 Jun 2020 17:33:08 +0100

pt-device-manager (2.7.0-1) buster; urgency=medium

  * Only modify /boot/config.txt if the host hardware has changed, otherwise
    preserve the user's changes.

 -- Ben Pring <ben@pi-top.com>  Tue, 21 Jan 2020 14:10:28 +0000

pt-device-manager (2.6.2-1) buster; urgency=medium

  * Set default screen blanking timeout to 5 mins

 -- Choudhry Amjad <choudhry@pi-top.com>  Mon, 14 Oct 2019 16:54:19 +0100

pt-device-manager (2.6.1-1) buster; urgency=medium

  * Reduce output noise from polling lxpanel plugin and battery warning message

 -- Choudhry Amjad <choudhry@pi-top.com>  Thu, 10 Oct 2019 11:56:52 +0100

pt-device-manager (2.6.0-4) buster; urgency=medium

  * Move to Buster (again)
  * Fix changelog formatting

 -- Mike Roberts <mike@pi-top.com>  Tue, 08 Oct 2019 16:57:02 +0800

pt-device-manager (2.6.0-3) stretch; urgency=medium

  * Enable reboot service

 -- Mike Roberts <mike@pi-top.com>  Tue, 08 Oct 2019 16:51:01 +0800

pt-device-manager (2.6.0-2) stretch; urgency=medium

  * Add reboot service

 -- Choudhry Amjad <choudhry@pi-top.com>  Fri, 04 Oct 2019 13:19:39 +0100

pt-device-manager (2.5.3-2) stretch; urgency=medium

  * Fix setting /boot/config.txt settings for dtoverlays

 -- Ben Pring <ben@pi-top.com>  Tue, 27 Aug 2019 12:39:21 +0100

pt-device-manager (2.5.2-2) stretch; urgency=medium

  * Update dependencies: pt-display is deprecated, add pt-os-mods

 -- Ben Pring <ben@pi-top.com>  Wed, 21 Aug 2019 10:47:01 +0100

pt-device-manager (2.5.1-1) stretch; urgency=medium

  * Bugfix: notification system

 -- Mike Roberts <mike@pi-top.com>  Tue, 13 Aug 2019 17:01:11 +0100

pt-device-manager (2.5.0-1) stretch; urgency=medium

  * Add ability to cancel battery warning notifications
  * Support pulse with and without pi-top hardware

 -- Mike Roberts <mike@pi-top.com>  Mon, 12 Aug 2019 16:14:36 +0100

pt-device-manager (2.4.4-1) stretch; urgency=medium

  * pt-poweroff: strip device host ID string

 -- Mike Roberts <mike@pi-top.com>  Sun, 11 Aug 2019 18:40:39 +0100

pt-device-manager (2.4.3-1) stretch; urgency=medium

  * Apply linting
  * Update device ID names to match branding
  * Simplify function to write device ID to file

 -- Mike Roberts <mike@pi-top.com>  Sun, 11 Aug 2019 12:14:55 +0100

pt-device-manager (2.4.2-1) stretch; urgency=medium

  * Remove retired pt-notifications-service dependency from systemd service
  * Remove unnecessary DISPLAY environment variable from systemd service

 -- Mike Roberts <mike@pi-top.com>  Tue, 25 Jun 2019 15:10:39 +0100

pt-device-manager (2.4.1-1) stretch; urgency=medium

  * Refactor shutdown service to handle different host devices better

 -- Choudhry Amjad <Choudhry@pi-top.com>  Tue, 30 Jul 2019 16:20:05 +0100

pt-device-manager (2.4.0-1) stretch; urgency=medium

  * Migrate notification manager from pt-notifications
  * Refactor shutdown service to better handle different host devices
  * Release systemd service earlier

 -- Mike Roberts <mike@pi-top.com>  Tue, 25 Jun 2019 15:10:39 +0100

pt-device-manager (2.3.0-1) stretch; urgency=medium

  * Allow device manager to exit cleanly on non-pi-top hardware.
  * Fix I2S audio switching

 -- Ben Pring <ben@pi-top.com>  Fri, 12 Jul 2019 09:42:52 +0100

pt-device-manager (2.2.3-1) stretch; urgency=medium

  * Add pt-host to provide an easy way to discover the host device
  * Improve error handling around the oled start-up animation

 -- Choudhry Amjad <choudhry@pi-top.com>  Fri, 07 Jun 2019 11:59:36 +0100

pt-device-manager (2.2.2-2) buster; urgency=medium

  * Move to Buster

 -- Mike Roberts <mike@pi-top.com>  Tue, 25 Jun 2019 15:10:39 +0100

pt-device-manager (2.2.2-1) stretch; urgency=low

  * Fix bug pairing bluetooth keyboards

 -- Ben Pring <ben@pi-top.com>  Mon, 13 May 2019 13:57:11 +0100

pt-device-manager (2.2.1-1) stretch; urgency=low

  * Move the keyboard autoconnect logic into the BTKBManager class, and into its own thread which can be signalled when necessary

 -- Ben Pring <ben@pi-top.com>  Mon, 29 Apr 2019 15:48:31 +0100

pt-device-manager (2.2.0-1) stretch; urgency=low

  * Only use Bluetooth discovery when needed for auto-connecting, to avoid heavy Bluetooth traffic which slows down lxpanel
  * Restart Bluetooth manager loop if an exception is caught
  * Improve handling and print-out of all DBus errors
  * Increase max number of attempts to get current keyboard mac address from 10 to 20
  * When forgetting previous keyboards, check if need to disconnect before removing
  * Check that keyboard last master mac address if valid before parsing when checking if keyboard master matches current device
  * Separate out cleanup from auto-connecting bt keyboard into separate function to always stop Bluetooth discovery
  * Fix "get_keyboard_docked()" function in hub manager
  * Add debug print-out to show when main idletime check thread has started

 -- Mike Roberts <mike@pi-top.com>  Fri, 26 Apr 2019 13:54:50 +0800

pt-device-manager (2.1.0-1) stretch; urgency=low

  * Add support for publishing display state changes

 -- Mike Roberts <mike@pi-top.com>  Wed, 24 Apr 2019 20:03:45 +0800

pt-device-manager (2.0.0-1) stretch; urgency=low

  * Added pi-top [4] support, including Bluetooth keyboard handling
  * xhost configuration moved from maintainer script to pt-display dependency

 -- Mike Roberts <mike@pi-top.com>  Fri, 24 Aug 2018 17:15:59 +0100

pt-device-manager (1.0.7-2) stretch; urgency=low

  * Correctly handle data type in get_debian_version
  * Handle all responses from attempts to read from hub
  * Prevent repeat instantiation of devices

 -- Mike Roberts <mike@pi-top.com>  Fri, 24 Aug 2018 17:15:59 +0100

pt-device-manager (1.0.7-1) stretch; urgency=low

  * Additional logging around soft shutdown on low battery

 -- Mike Roberts <mike@pi-top.com>  Mon, 09 Jul 2018 13:59:57 +0100

pt-device-manager (1.0.6-2) stretch; urgency=low

  * Manual systemd management in maintainer scripts

 -- Mike Roberts <mike@pi-top.com>  Mon, 21 May 2018 18:24:08 +0100

pt-device-manager (1.0.6-1) stretch; urgency=low

  * Retired usage of python3-pt-idletime, in favour of xprintidle
  * Local connections to X server enabled by setting display-setup-script in lightdm configuration instead of pt-xhost-fix systemd service

 -- Mike Roberts <mike@pi-top.com>  Mon, 21 May 2018 18:24:08 +0100

pt-device-manager (1.0.5-1) stretch; urgency=low

  * Updated package for Stretch
  * Recommends pt-input
  * Added pt-devices
  * Increased default screen timeout
  * Fixed 'empty timeout file' bug
  * Add initial code for pi-topPROTO+ support
  * Use python3-pt-common for device classes
  * Fix pi-topCEED shutdown
  * WantedBy=local-fs.target
  * I2C is now enabled on initialisation if it is not already enabled
  * Improved handling of undetected hardware, particularly around shutdown
  * Improved pt-battery output

 -- Mike Roberts <mike@pi-top.com>  Fri, 09 Mar 2018 16:19:05 +0000

pt-device-manager (1.0.4-1) jessie; urgency=low

  * Fixed bad ptdm_message call in pt-brightness

 -- Mike Roberts <mike@pi-top.com>  Fri, 03 Nov 2017 14:24:52 +0000

pt-device-manager (1.0.3-1) jessie; urgency=low

  * Allow device manager to run on non-pi-top hardware
  * Add some documentation

 -- Ben Pring <ben@pi-top.com>  Thu, 26 Oct 2017 11:07:31 +0100

pt-device-manager (1.0.2-1) jessie; urgency=low

  * Add support for unsupported hardware message

 -- Ben Pring <ben@pi-top.com>  Tue, 10 Oct 2017 15:02:14 +0100

pt-device-manager (1.0.1-1) jessie; urgency=low

  * Fixes around device identification, low-battery handling logic, brightness

 -- Ben Pring <ben@pi-top.com>  Thu, 05 Oct 2017 14:21:42 +0100

pt-device-manager (1.0.0-1) jessie; urgency=low

  * Initial release.

 -- Ben Pring <ben@pi-top.com>  Wed, 02 Aug 2017 12:04:36 +0100
